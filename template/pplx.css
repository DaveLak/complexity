/* Root Variables */
:root {
  --ui-font            : 'Karla', 'Golos Text', 'Gitlab Sans';
  --mono-font          : 'JetBrains Mono NL';
  --background-color   : #fcfcf9;
  --sidebar-color      : #f3f3ee;
  --accent-color       : #007aff;
  --accent-color-darker: rgb(0 122 255 / 50%);
  --secondary-color    : var(--accent-color);
  --text-main          : #13343b;
  --text-off           : #64645f;
  --border-color       : rgba(216, 216, 207, 0.5);
}

/* Dark Mode Variables */
html.dark {
  --sidebar-color   : #1f1f1f;
  --background-color: #181818;
  --text-main       : #e8e8e8;
  --text-off        : #8d8d8d;
  --border-color    : rgba(235, 229, 229, 0.1);
}

/* Follow Up Popover */
#follow-up-popover {
  position  : absolute;
  color     : var(--text-off);
  background: var(--background-color);
  font-size : .8rem;

  display: flex;

  gap: .5rem;

  padding: 0 1rem;

  border       : 1px solid var(--border-color);
  border-radius: 0.5rem;

  cursor: pointer;

  transition: all 0.3s ease;

  &::after {
    content         : '';
    position        : absolute;
    width           : 0;
    height          : 0;
    border          : 0.5rem solid transparent;
    border-top-color: var(--border-color);
    bottom          : -1rem;
    left            : 50%;
    transform       : translateX(-50%);
  }

  &.reverse-arrow::after {
    border             : 0.5rem solid transparent;
    border-bottom-color: var(--border-color);
    top                : -1rem;
    left               : 50%;
    transform          : translateX(-50%);
  }

  &>* {
    display: flex;
    gap    : 0.5rem;

    padding: 0.5rem 0;

    user-select: none;

    &:hover {
      color: var(--text-main);
    }

    &:active {
      scale: 0.95;
    }
  }

  &>*:not(:last-child)::after {
    content: '';

    width : 1px;
    height: 80%;

    margin: auto 0;

    background: var(--border-color);
  }
}

/* Toast Wrapper */
#toast-wrapper {
  max-width: 300px;
}

/* Prompt Applied Styles */
.prompt-applied {

  & #query-box-follow-up-container~* .grow.block>*>*,
  & .items-center.grid-rows-1fr-auto.grid.grid-cols-3.w-full.outline-none.focus\:outline-none.focus\:ring-borderMain {
    transition    : all 0.15s ease;
    outline       : 1px solid var(--accent-color-darker);
    outline-offset: 0px;
    box-shadow    : 0 0 10px 0 rgba(0, 0, 0, 0.1);

    &:has(textarea:focus) {
      outline: 2px solid var(--accent-color);
    }
  }
}

/* Markdowned Text Wrapper */
.my-md.md\:my-lg:has(textarea) #markdowned-text-wrapper,
h1.whitespace-pre-line.break-words,
div.whitespace-pre-line.break-words {
  display: none;
}

html.dark #markdowned-text-wrapper {
  & pre code {
    color: var(--text-main) !important;
  }
}

#markdowned-text-wrapper pre {
  background  : #1d1f21;
  padding-left: 0.8rem;
  padding-top : 0.8rem;
  width       : 100% !important;
  max-width   : 90vw !important;

  code {
    color     : #e8e8e8 !important;
    background: #1d1f21;
  }

  &.retracted {
    max-height: 200px;
  }
}

/* Thread Anchor Wrapper */
#thread-anchor-wrapper {
  & #container {
    justify-content : flex-start;
    width           : 100%;
    max-height      : 300px;
    overflow-y      : auto;
    transition      : opacity 0.3s ease, visibility 0.3s ease;
    transform-origin: right;
    user-select     : none;
  }

  &.float #container {
    background   : var(--background-color);
    border-radius: 0.5rem;
    padding      : 1rem;
    border       : 1px solid var(--border-color);
    box-shadow   : 0 0 10px 0 rgba(0, 0, 0, 0.1);
  }

  &.float #visibility-toggle {
    display: block;
  }

  & #visibility-toggle {
    display         : none;
    position        : absolute;
    top             : -3rem;
    right           : 0;
    width           : 2.5rem;
    height          : 2.5rem;
    background-color: var(--sidebar-color);
    cursor          : pointer;
    border-radius   : 9999px;
    box-shadow      : 0 0 10px 0 rgba(0, 0, 0, 0.1);
  }
}

#thread-anchor-wrapper #visibility-toggle .menu-button {
  width     : 40%;
  height    : 40%;
  position  : absolute;
  top       : 50%;
  left      : 50%;
  transform : translate(-50%, -50%);
  color     : var(--text-off);
  transition: color 0.3s ease;
}

#thread-anchor-wrapper #visibility-toggle:hover .menu-button div,
#thread-anchor-wrapper #visibility-toggle:hover .menu-button div::before {
  background: var(--text-main);
}

#thread-anchor {
  width       : 250px;
  margin-top  : 0.25rem;
  padding-left: 0.5rem;
  color       : var(--text-off);
  border-left : 2px solid var(--border-color);
  transition  : all 0.3s ease;
}

#thread-anchor:hover {
  color: var(--text-main);
}

#thread-anchor.selected {
  color      : var(--text-main) !important;
  border-left: 4px solid var(--accent-color) !important;
}

/* Query Box Follow-Up Container */
html.dark #query-box-follow-up-container #selector-container {
  background: var(--sidebar-color);
}

#query-box-follow-up-container #selector-container {
  width          : fit-content;
  margin-bottom  : 0.25rem;
  padding        : 0.25rem;
  border-radius  : 0.5rem;
  border         : 1px solid var(--border-color);
  box-shadow     : 0 0 10px 0 rgba(0, 0, 0, 0.1);
  background     : var(--background-color);
  display        : flex;
  gap            : 0.25rem;
  flex-wrap      : wrap;
  justify-content: center;
  align-items    : center;
}

#query-box-follow-up-container {
  display        : flex;
  gap            : 0.25rem;
  justify-content: center;
}

#query-box-button-bar button.rounded-full {
  border-radius: 0.5rem !important;
}

#dropdown-wrapper>button>div {
  display: flex;
  gap    : 0.25rem;
}

#query-limit {
  color      : var(--accent-color) !important;
  font-size  : 0.5rem;
  align-self : flex-start;
  line-height: normal;
}

.mx-auto.h-full.w-full.max-w-screen-md.px-md.md\:px-lg {
  &:has(textarea) {
    max-width : 1300px;
    transition: max-width 0.3s ease;
  }

  & .grid.grid-cols-1.gap-sm.md\:grid-cols-2 {
    max-width: 768px;
    margin   : 0 auto;
  }
}

.max-w-screen-md:has(textarea) {
  max-width: 1000px;
}

.selected span#name {
  color: var(--accent-color) !important;
}

/* Focus Selector and Prompt Collection */
.focus-selector,
.prompt-collection,
.model-selector,
.image-model-selector,
.collection-selector {
  padding: 0.5rem;
}

.selector-loading div#text {
  color     : var(--text-off) !important;
  font-style: italic;
}

#thread-swap-collection,
#thread-remove-from-collection {
  cursor   : pointer;
  font-size: 0.8rem;
}

.hoverable-text {
  color: var(--text-off) !important;
}

.hoverable-text:hover {
  color: var(--text-main) !important;
}

/* Thread Layout Alternate Helpers */
html.thread-layout-alternate {

  & div.sticky.left-0.right-0.top-0.z-20.border-b.md\:mb-0.md\:rounded-t-xl.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-background.dark\:bg-backgroundDark>div>div:nth-child(2)>div> :first-child:nth-last-child(2),
  div.sticky.left-0.right-0.top-0.z-20.border-b.md\:mb-0.md\:rounded-t-xl.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-background.dark\:bg-backgroundDark>div>div:nth-child(2)>div> :first-child:nth-last-child(3) {
    display: none;
  }

  & div.sticky.left-0.right-0.top-0.z-20.border-b.md\:mb-0.md\:rounded-t-xl.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-background.dark\:bg-backgroundDark>div>div:nth-child(2)>div> :nth-child(1):nth-last-child(n + 3),
  div.sticky.left-0.right-0.top-0.z-20.border-b.md\:mb-0.md\:rounded-t-xl.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-background.dark\:bg-backgroundDark>div>div:nth-child(2)>div> :nth-child(2):nth-last-child(n + 2) {
    display: none;
  }
}

/* Font Families */
.font-sans,
.font-display {
  --font-fk-grotesk     : var(--ui-font);
  --font-fk-grotesk-neue: var(--ui-font);
}

code {
  font-family: var(--mono-font) !important;
}

.data-\[state\=checked\]\:dark\:before\:\!bg-superDark[data-state='checked']:before,
.dark .data-\[state\=checked\]\:dark\:before\:\!bg-superDark[data-state='checked']:before {
  background-color: var(--accent-color) !important;
}

.prose :where(code):not(:where([class~='not-prose'] *))::before,
.prose :where(code):not(:where([class~='not-prose'] *))::after {
  content: '';
}

.prose :where(code):not(:where([class~='not-prose'] *)) {
  color           : var(--accent-color) !important;
  background-color: var(--sidebar-color);
  padding         : 0.1rem 0.3125rem;
  border-radius   : 0.375rem;
}

.citation>div>span>div {
  background-color: var(--accent-color) !important;
  color           : white !important;
  border-radius   : 0.375rem !important;
}

.citation>div>span>div:not(:hover) {
  opacity: 0.5;
}

strong,
h2,
h3,
h4,
h5,
h6 {
  color: var(--accent-color) !important;
}

th {
  border: 1px solid rgb(56 56 58 / var(--tw-border-opacity)) !important;
  color : white !important;
}

.pb-\[124px\].pt-md.md\:pt-0>div>div:nth-child(1)>div>div>div:last-child {
  border-color: var(--accent-color-darker) !important;
}

/* Hamburger Menu */
.menu-button {
  display        : flex;
  flex-direction : column;
  justify-content: space-around;
  width          : 100%;
  height         : 100%;
  outline        : none;
}

.menu-button div {
  width        : 100%;
  height       : 2px;
  background   : var(--text-off);
  transition   : all 0.3s ease;
  border-radius: 0.5rem;
  position     : relative;
}

.menu-button.active .bar1 {
  opacity: 0;
}

.menu-button.active .bar2 {
  transform: rotate(45deg);

  &::before {
    content      : '';
    display      : block;
    width        : 100%;
    height       : 100%;
    background   : var(--text-off);
    border-radius: 0.5rem;
    position     : absolute;
    top          : 0;
    left         : 0;
    transform    : rotate(-90deg);
    transition   : all 0.3s ease;
  }
}

.menu-button.active .bar3 {
  opacity: 0;
}

#query-anchor~.my-md.md\:my-lg {
  margin-top: 0;
}

.hover\:text-super:hover,
.hover\:dark\:text-superDark:hover {
  color: var(--accent-color) !important;
}

/* Background */
html,
html.dark,
:is(.dark .dark\:bg-backgroundDark) {
  background-color: var(--background-color) !important;
}

/* Side Navigation */
:is(.dark .dark\:bg-offsetDark),
:is(.dark .dark\:\!bg-offsetDark),
:is(.dark .dark\:focus\:bg-offsetDark:focus),
:is(.dark .md\:dark\:hover\:bg-offsetDark:hover) {
  background-color: var(--sidebar-color);
}

.hebEKa,
.gnFpAY {
  background-color: var(--sidebar-color) !important;
}

.group:hover .group-hover\:\!bg-super {
  background-color: var(--accent-color) !important;
}

.selection\:bg-superDuper::selection,
.selection\:text-textMain ::selection,
.dark .dark\:selection\:text-super ::selection {
  background-color: var(--sidebar-color) !important;
  color           : var(--accent-color) !important;
}

.fill-super,
.group:hover .group-hover\:fill-superDuper,
:is(.dark .dark\:fill-superDark) {
  fill: var(--accent-color);
}

.caret-superDuper {
  caret-color: var(--accent-color);
}

.stroke-super,
.group:hover .group-hover\:stroke-superDuper,
:is(.dark .dark\:stroke-superDark),
:is(.dark .dark\:stroke-textMainDark) {
  stroke: var(--accent-color);
}

:is(.dark .dark\:outline-superDark) {
  outline-color: var(--accent-color);
}

.dark .dark\:hover\:ring-superDark:hover,
.hover\:\!ring-super:hover,
.hover\:ring-super:hover,
:is(.dark .dark\:focus\:ring-borderMainDark:focus),
.dark .dark\:ring-superDark,
.ring-super {
  --tw-ring-color: var(--accent-color) !important;
}

.\!bg-textMain .text-textMain path {
  color           : var(--accent-color) !important;
  background-color: var(--accent-color) !important;
}

html.dark .dark\:text-textMainDark {
  color: var(--text-main) !important;
}

html.dark .dark\:\!text-backgroundDark {
  color: var(--text-main) !important;

  & {
    color: var(--accent-color) !important;
  }
}

.ring-2 {
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}

.bg-super,
.md\:hover\:bg-super:hover,
:is(.dark .dark\:bg-textMainDark),
:is(.dark .dark\:bg-superDark) {
  background-color: var(--accent-color);
  color           : white;
}

.text-super,
.group:hover .md\:group-hover\:text-super,
.prose :where(a):not(:where([class~='not-prose'] *)),
:is(.dark .dark\:md\:hover\:text-textMainDark:hover),
.selection\:text-textMain::selection,
.selection\:bg-superDuper ::selection {
  color: var(--accent-color) !important;
}

.selection\:text-textMain::selection,
.selection\:bg-superDuper ::selection {
  color           : var(--accent-color) !important;
  background-color: var(--background-color) !important;
}

.mb-sm.flex.w-full.items-center.justify-between svg {
  color: var(--accent-color);
}

/* Miscellaneous */
@media (min-width: 768px) {
  .dock-bottom {
    bottom: 5px !important;
  }
}

.text-off {
  color: var(--text-off) !important;
}

.text-on {
  color: var(--text-main) !important;
}

.text-main {
  color: var(--accent-color) !important;
}

/* Hide Annoying Elements */
.bg-transparent.dark\:border-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:divide-borderMainDark\/50.divide-borderMain\/50.ring-borderMain\/50.border-borderMain\/50.md\:pb-0.md\:px-0.md\:justify-center.pb-2xl.px-sm.gap-y-sm.gap-x-md.items-center.flex-wrap.flex {
  display: none;
}

.fixed.bottom-md.right-md.m-sm.hidden.md\:block {
  display: none;
}

div.mb-sm.flex.items-center.justify-between.border-t.pl-xs.pr-xs.pt-sm.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-transparent {
  display: none;
}

.sticky.top-0.flex.h-full.flex-col.justify-between.overflow-y-auto.overflow-x-hidden {
  padding-bottom: 0;
}

div.mb-sm.flex.items-center.justify-between.border-t.pl-xs.pr-xs.pt-sm.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-transparent {
  display: none;
}

div.hidden.md\:block.border-borderMain\/50.ring-borderMain\/50.divide-borderMain\/50.dark\:divide-borderMainDark\/50.dark\:ring-borderMainDark\/50.dark\:border-borderMainDark\/50.bg-transparent>div>div>div>div.flex.flex-col>div:nth-child(2)>a>div {
  padding-bottom: 0;
}

/* Tailwind Classes */
.absolute-center {
  top      : 50%;
  left     : 50%;
  transform: translate(-50%, -50%);
}

.box-border {
  box-sizing: border-box;
}

.animate-all {
  transition-property       : all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration       : 300ms;
}

.mt-8 {
  margin-top: 2rem;
}

.invisible {
  opacity   : 0;
  visibility: hidden;
}

.max-w-full {
  max-width: 100%;
}

.w-max {
  width: max-content;
}

.h-max {
  height: max-content;
}